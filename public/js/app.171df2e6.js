(function(t){function e(e){for(var a,o,r=e[0],c=e[1],d=e[2],u=0,p=[];u<r.length;u++)o=r[u],i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},1:function(t,e){},1752:function(t,e,n){t.exports=n.p+"img/mail.795ea977.svg"},2:function(t,e){},"30f6":function(t,e,n){},3147:function(t,e,n){},"387e":function(t,e,n){t.exports=n.p+"img/github.1f33e75d.svg"},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light"}},[a("b-navbar-brand",{attrs:{href:"/#/"}},[a("img",{staticStyle:{float:"left","margin-right":"10px"},attrs:{height:"30",src:n("cf05")}}),t._v(" Scrypta News")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[t.user?t._e():a("a",{attrs:{href:"/#/login"}},[a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm"}},[t._v("Login")])],1),t.user?a("a",{staticStyle:{color:"#333","font-size":"30px","margin-right":"10px","margin-top":"-7px"},attrs:{href:"/#/author/"+t.user}},[a("b-icon-document-text")],1):t._e(),t.user?a("a",{attrs:{href:"#"}},[a("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm"},on:{click:t.logout}},[t._v("Logout")])],1):t._e()])],1)],1),a("router-view"),t.user?a("a",{attrs:{href:"/#/new"}},[a("b-button",{staticStyle:{position:"fixed",bottom:"30px","font-weight":"bold","font-size":"30px","border-radius":"200px",width:"50px",padding:"0","text-align":"center","line-height":"45px",height:"50px",right:"30px"},attrs:{pill:"",variant:"primary"}},[t._v("+")])],1):t._e()],1)},s=[],o=(n("a481"),n("96cf"),n("3b8d")),r={mounted:function(){this.checkIdaNodes()},methods:{logout:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.scrypta.forgetKey();case 3:location.reload();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.scrypta.keyExist();case 3:n=t.sent,34===n.length&&(e.user=n);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkIdaNodes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.scrypta.returnNodes(),n=this,a=0;a<e.length;a++)this.axios.get(e[a]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.checkUser())}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",isLoading:!0,user:""}}},c=r,d=(n("034f"),n("2877")),l=Object(d["a"])(c,i,s,!1,null,null,null),u=l.exports,p=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("h1",[t._v("Scrypta News")]),n("h3",[t._v("read articles from trusted sources.")]),n("hr"),t.isLoading?n("div",[t._v("Loading news from the blockchain...")]):t._e(),t.isLoading?t._e():n("div",t._l(t.feed,(function(e){return n("div",{key:e._id,staticClass:"feed",staticStyle:{position:"relative"}},["upvote"!==e.data&&"downvote"!==e.data?n("div",[e.data.image?t._e():n("v-gravatar",{staticClass:"gravatar-home",staticStyle:{"margin-right":"20px","margin-top":"0px",float:"left"},attrs:{email:e.address,height:"85"}}),e.data.image?n("div",{style:"margin-right:20px; width:85px; height:85px; background-position:center; background-repeat:no-repeat; background-size:cover; margin-top:0px; float:left; background-image:url('"+e.data.image+"')"}):t._e(),e.data.title?t._e():n("div",[n("h3",{staticStyle:{margin:"0",padding:"0","padding-right":"40px"}},[t._v(t._s(e.refID))])]),e.data.title?n("div",[n("h3",{staticStyle:{margin:"0",padding:"0","padding-right":"40px"}},[t._v(t._s(e.data.title))])]):t._e(),e.data.tags?n("div",t._l(e.data.tags,(function(e){return n("span",{key:e,staticStyle:{margin:"0",padding:"0","padding-right":"10px"}},[t._v("#"+t._s(e))])})),0):t._e(),n("div",{staticStyle:{"font-size":"15px"}},[t._v("\n              Written by "),n("b",[n("a",{attrs:{href:"/#/author/"+e.address}},[t._v(t._s(e.address.substr(0,3))+"..."+t._s(e.address.substr(-3)))])]),t._v(" at block "),n("i",[t._v(t._s(e.block))])]),t.counters?n("div",{staticClass:"counters"},t._l(t.counters,(function(a){return n("div",{key:a.uuid},[a.uuid===e.uuid?n("div",[n("b",[n("b-icon-arrow-up"),t._v(" "+t._s(a.upvotes))],1),t._v(" UPVOTES\n                  "),n("b",[n("b-icon-arrow-down"),t._v(" "+t._s(a.downvotes))],1),t._v(" DOWNVOTES\n                ")]):t._e()])})),0):t._e(),n("a",{attrs:{href:"/#/news/"+e.uuid}},[n("b-icon-arrow-right",{staticClass:"arrow-dx"})],1),n("hr")],1):t._e()])})),0)])]),t.connected?n("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()])},w=[],f=(n("ac6a"),n("28a5"),n("8017")),v={name:"home",mounted:function(){this.checkIdaNodes()},methods:{checkIdaNodes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.scrypta.returnNodes(),n=this,a=0;a<e.length;a++)this.axios.get(e[a]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{protocol:"news://"}).then((function(t){for(var e in t.data.data){var a=t.data.data[e].data;void 0!==a.title&&(t.data.data[e].data.title=f.decompress(a.title,{inputEncoding:"Base64"}),t.data.data[e].data.subtitle=f.decompress(a.subtitle,{inputEncoding:"Base64"}),t.data.data[e].data.image=f.decompress(a.image,{inputEncoding:"Base64"}),t.data.data[e].data.text=f.decompress(a.text,{inputEncoding:"Base64"}),void 0!==a.tags?(t.data.data[e].data.tags=f.decompress(a.tags,{inputEncoding:"Base64"}),t.data.data[e].data.tags=t.data.data[e].data.tags.split(",")):t.data.data[e].data.tags=[]),n.feed.push(t.data.data[e])}n.isLoading=!1,n.readCounters()})))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),readCounters:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,t.t0=regeneratorRuntime.keys(e.feed);case 2:if((t.t1=t.t0()).done){t.next=13;break}return n=t.t1.value,t.next=6,e.axios.post(e.connected+"/read",{protocol:"news://",refID:e.feed[n].uuid});case 6:for(o in a=t.sent,i=0,s=0,a.data.data)void 0===e.voters[e.feed[n].uuid]&&(e.voters[e.feed[n].uuid]={}),void 0===e.voters[e.feed[n].uuid][a.data.data[o].address]&&("upvote"===a.data.data[o].data?(i++,e.voters[e.feed[n].uuid][a.data.data[o].address]="upvote"):"downvote"===a.data.data[o].data&&(s++,e.voters[e.feed[n].uuid][a.data.data[o].address]="downvote"));e.counters.push({uuid:e.feed[n].uuid,upvotes:i,downvotes:s}),t.next=2;break;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",feed:[],isLoading:!0,counters:[],voters:{}}}},g=v,m=(n("cccb"),Object(d["a"])(g,h,w,!1,null,null,null)),b=m.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[n("b-modal",{attrs:{"hide-footer":"",title:"Write news on the blockchain"},model:{value:t.passwordShow,callback:function(e){t.passwordShow=e},expression:"passwordShow"}},[t.isUploading?t._e():n("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),n("br"),t.isUploading?t._e():n("div",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.unlockWallet(e)}}},[t._v("Write")])],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"editor"},[n("h3",{staticClass:"text-center"},[t._v("You're writing as "),n("i",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.user))])]),n("hr"),n("b-form-input",{attrs:{placeholder:"Enter a title"},model:{value:t.titleToWrite,callback:function(e){t.titleToWrite=e},expression:"titleToWrite"}}),n("b-form-input",{attrs:{placeholder:"Enter a subtitle"},model:{value:t.subtitleToWrite,callback:function(e){t.subtitleToWrite=e},expression:"subtitleToWrite"}}),n("b-form-input",{attrs:{placeholder:"Enter the URL of the main image"},model:{value:t.mainImageURL,callback:function(e){t.mainImageURL=e},expression:"mainImageURL"}}),n("b-form-tags",{attrs:{placeholder:"Enter tags"},model:{value:t.tagsToWrite,callback:function(e){t.tagsToWrite=e},expression:"tagsToWrite"}}),n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,i=e.isActive;return[n("div",{staticClass:"menubar",staticStyle:{"text-align":"center",width:"100%"}},[n("button",{staticClass:"menubar__button",class:{"is-active":i.bold()},on:{click:a.bold}},[n("b-icon-type-bold")],1),n("button",{staticClass:"menubar__button",on:{click:function(e){return t.showImagePrompt(a.image)}}},[n("b-icon-image")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.italic()},on:{click:a.italic}},[n("b-icon-type-italic")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.strike()},on:{click:a.strike}},[n("b-icon-type-strikethrough")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.underline()},on:{click:a.underline}},[n("b-icon-type-underline")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.paragraph()},on:{click:a.paragraph}},[t._v("\n                p\n              ")]),n("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:1})},on:{click:function(t){return a.heading({level:1})}}},[n("b-icon-type-h1")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:2})},on:{click:function(t){return a.heading({level:2})}}},[n("b-icon-type-h2")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:3})},on:{click:function(t){return a.heading({level:3})}}},[n("b-icon-type-h3")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.bullet_list()},on:{click:a.bullet_list}},[n("b-icon-list-ul")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.ordered_list()},on:{click:a.ordered_list}},[n("b-icon-list-ol")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.blockquote()},on:{click:a.blockquote}},[n("b-icon-blockquote-left")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.code_block()},on:{click:a.code_block}},[n("b-icon-code")],1),n("button",{staticClass:"menubar__button",on:{click:a.undo}},[n("b-icon-arrow-counterclockwise")],1),n("button",{staticClass:"menubar__button",on:{click:a.redo}},[n("b-icon-arrow-clockwise")],1)])]}}])}),n("hr"),n("editor-content",{staticClass:"editor__content",staticStyle:{padding:"0"},attrs:{editor:t.editor}}),n("hr"),n("div",{staticClass:"text-center"},[t._v("\n            This news will write "+t._s(t.chunks)+" transaction"),t.chunks>1?n("span",[t._v("s")]):t._e(),t._v(" and it will cost "+t._s(t.fees)+" LYRA\n          ")]),n("br"),n("div",{staticClass:"text-center"},[t.isUploading?n("div",[t._v("\n            "+t._s(t.workingmessage)+"\n          ")]):t._e(),t.isUploading?t._e():n("b-button",{attrs:{pill:""},on:{click:t.openUnlock}},[t._v("Write on the Blockchain")])],1),n("br"),n("br")],1)])]),t.connected?n("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()],1)},k=[],y=n("f499"),x=n.n(y),C=n("cd42"),E=n("f23d"),T=n("8017"),S={name:"home",components:{EditorContent:C["b"],EditorMenuBar:C["c"]},mounted:function(){this.checkIdaNodes()},methods:{showImagePrompt:function(t){var e=prompt("Enter the url of your image here");null!==e&&t({src:e})},checkUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.scrypta.keyExist();case 3:n=t.sent,e.public_address=this.scrypta.PubAddress,e.encrypted_wallet=this.scrypta.RAWsAPIKey,34===n.length?e.user=n:window.location="/#/login";case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openUnlock:function(){var t=this;""!==t.html?t.axios.get(t.connected+"/balance/"+t.user).then((function(e){e.data.balance>t.fees?t.passwordShow=!0:alert("Not enough balance!")})):alert("Write something!")},uploadData:function(){var t=this,e=this;if(""!==e.html){e.isUploading=!0;var n=!1,a="news://",i=e.html,s=T.compress(i,{outputEncoding:"Base64"}),o=e.titleToWrite,r=T.compress(o,{outputEncoding:"Base64"}),c=e.subtitleToWrite,d=T.compress(c,{outputEncoding:"Base64"}),l=e.mainImageURL,u=T.compress(l,{outputEncoding:"Base64"}),p=x()(e.tagsToWrite),h=T.compress(p,{outputEncoding:"Base64"}),w=x()({title:r,subtitle:d,image:u,text:s,tags:h});!1===n?(e.workingmessage="Uploading data to the blockchain, please wait and don't refresh the page...",e.scrypta.write(e.unlockPwd,w,"","",a,e.public_address+":"+e.encrypted_wallet).then((function(n){void 0!==n.uuid?(alert("Data written correctly into the blockchain, wait at least 2 minutes and refresh the page!"),t.isUploading=!1,e.html="",e.title="",window.location="/#/author/"+e.user):(alert("There's an error in the upload, please retry!"),t.isUploading=!1)})).catch((function(){alert("There's an error in the upload, please retry!"),t.isUploading=!1}))):this.isUploading=!1}else alert("Write a text first!")},unlockWallet:function(){if(""!==this.unlockPwd){var t=this;t.decrypted_wallet="WALLET LOCKED",t.scrypta.readKey(this.unlockPwd).then((function(e){!1!==e?(t.passwordShow=!1,t.uploadData()):alert("Wrong password!")}))}else alert("Write your password first")},checkIdaNodes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.scrypta.returnNodes(),n=this,a=0;a<e.length;a++)this.axios.get(e[a]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.checkUser())}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},data:function(){var t=this;return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],passwordShow:!1,unlockPwd:"",user:"",connected:"",decrypted_wallet:"",public_address:"",encrypted_wallet:"",workingmessage:"",isUploading:!1,titleToWrite:"",subtitleToWrite:"",tagsToWrite:[],mainImageURL:"",editor:new C["a"]({extensions:[new E["a"],new E["c"],new E["e"],new E["f"],new E["g"]({levels:[1,2,3]}),new E["i"],new E["m"],new E["j"],new E["n"],new E["p"],new E["q"],new E["l"],new E["b"],new E["d"],new E["k"],new E["o"],new E["r"],new E["h"]],content:" ",onUpdate:function(e){var n=e.getHTML,a=t;t.html=n();var i=t.html,s=T.compress(i,{outputEncoding:"Base64"}),o=a.titleToWrite,r=T.compress(o,{outputEncoding:"Base64"}),c=a.subtitleToWrite,d=T.compress(c,{outputEncoding:"Base64"}),l=a.mainImageURL,u=T.compress(l,{outputEncoding:"Base64"}),p=x()(a.tagsToWrite),h=T.compress(p,{outputEncoding:"Base64"}),w=x()({title:r,subtitle:d,image:u,text:s,tags:h}),f=Math.ceil(w.length/7500);t.chunks=f,t.fees=.001*f}}),html:"",fees:0,chunks:0}},beforeDestroy:function(){this.editor.destroy()}},W=S,U=(n("e099"),Object(d["a"])(W,_,k,!1,null,null,null)),R=U.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("h1",[t._v("Login")]),t._m(0),n("hr"),n("b-form-file",{staticClass:"text-left mb-3 mt-3",attrs:{placeholder:"Drag and drop a .sid file here o select it from computer"},on:{change:t.loadWalletFromFile},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)]),t.connected?n("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()])},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",[t._v("Please enter with your .sid file or use "),n("i",[t._v("ScryptaID Extension")]),t._v(".")])}],I={name:"home",mounted:function(){this.checkIdaNodes()},methods:{checkUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.scrypta.keyExist();case 3:n=t.sent,34===n.length&&(window.location="/#/");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkIdaNodes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.scrypta.returnNodes(),n=this,a=0;a<e.length;a++)this.axios.get(e[a]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.checkUser())}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadWalletFromFile:function(t){var e=t.target.files[0],n=new FileReader,a=this;n.onload=function(){var t=n.result;a.scrypta.saveKey(t).then((function(){setTimeout((function(){location.reload()}),1e3)}))},n.readAsText(e)}},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",isLoading:!0,file:[]}}},O=I,D=(n("d6db"),Object(d["a"])(O,P,L,!1,null,null,null)),B=D.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("vue-headful",{attrs:{title:t.news.data.title,description:t.news.data.subtitle}}),n("b-modal",{staticClass:"text-center",attrs:{"hide-footer":"",title:"Tip User sending Lyra"},model:{value:t.showTipModal,callback:function(e){t.showTipModal=e},expression:"showTipModal"}},[t._v("\n    Send a tip to the user directly from here!"),n("br"),n("br"),n("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),n("br"),n("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:"LYRA"}},[n("b-input",{attrs:{id:"inline-form-input-username",placeholder:"Amount you want to send"},model:{value:t.amountTip,callback:function(e){t.amountTip=e},expression:"amountTip"}})],1),n("br"),t.isUploading?t._e():n("div",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},on:{click:function(e){return e.preventDefault(),t.tip(e)}}},[t._v("Tip")])],1),n("b-modal",{staticClass:"text-center",attrs:{"hide-footer":"",title:"Upvote news"},model:{value:t.showUpvoteModal,callback:function(e){t.showUpvoteModal=e},expression:"showUpvoteModal"}},[t._v("\n    By upvoting this news you're marking it as a true and trustable news and this action will be public."),n("br"),n("br"),n("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),n("br"),t.isUploading?t._e():n("div",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},on:{click:function(e){return e.preventDefault(),t.upvote(e)}}},[t._v("Upvote")])],1),n("b-modal",{staticClass:"text-center",attrs:{"hide-footer":"",title:"Downvote news"},model:{value:t.showDownvoteModal,callback:function(e){t.showDownvoteModal=e},expression:"showDownvoteModal"}},[t._v("\n    By downvoting this news you're marking it as a fake news or spam or untrustable and this action will be public."),n("br"),n("br"),n("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),n("br"),t.isUploading?t._e():n("div",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},on:{click:function(e){return e.preventDefault(),t.downvote(e)}}},[t._v("Downvote")])],1),n("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8 offset-md-2"},[t.isLoading?n("div",[t._v("Loading news from the blockchain...")]):t._e(),t.isLoading?t._e():n("div",{staticClass:"news-head"},[t.news.data.title?t._e():n("div",[n("h1",{staticStyle:{margin:"0",padding:"0","margin-bottom":"-30px"}},[t._v(t._s(t.news.refID))]),n("br")]),t.news.data.title?n("div",[n("h1",{staticStyle:{margin:"0",padding:"0","margin-bottom":"-30px"}},[t._v(t._s(t.news.data.title))]),n("br")]):t._e(),t.news.data.subtitle?n("div",[n("h3",{staticStyle:{margin:"0",padding:"0","margin-bottom":"-30px"}},[t._v(t._s(t.news.data.subtitle))]),n("br")]):t._e(),t.news.data.tags?n("div",t._l(t.news.data.tags,(function(e){return n("span",{key:e,staticStyle:{margin:"0",padding:"0","padding-right":"10px"}},[t._v("#"+t._s(e))])})),0):t._e(),t.news.data.image?n("div",[n("br"),n("img",{attrs:{src:t.news.data.image,width:"100%"}})]):t._e(),n("div",{staticStyle:{"font-size":"15px","margin-top":"0px"}},[n("v-gravatar",{staticStyle:{"margin-right":"20px","margin-top":"28px",float:"left"},attrs:{email:t.news.address,height:"80"}}),n("br"),t._v("\n          Written by "),n("b",[n("a",{attrs:{href:"/#/author/"+t.news.address}},[t._v(t._s(t.news.address))])])],1),t._v("\n          at block "),n("i",[t._v(t._s(t.news.block))]),n("br"),t._v("\n          Timestamped at "+t._s(t.time)),n("br"),n("a",{attrs:{href:"https://proof.scryptachain.org/#/uuid/"+t.news.uuid,target:"_blank"}},[t._v("\n            Show Proof of Existence "),n("b-icon-arrow-right")],1),n("hr"),n("social-sharing",{attrs:{url:"https://news.scryptachain.org/#/news/"+t.news.uuid,title:t.news.data.title,description:t.news.data.text.replace(/<\/?[^>]+(>|$)/g,"").substr(0,255)+"...",quote:t.news.data.subtitle,hashtags:JSON.stringify(t.news.data.tags)},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sharing-buttons"},[n("h5",[t._v("Share on:")]),n("network",{attrs:{network:"email"}},[n("b-button",[t._v("Email")])],1),n("network",{attrs:{network:"facebook"}},[n("b-button",[t._v("Facebook")])],1),n("network",{attrs:{network:"linkedin"}},[n("b-button",[t._v("Linkedin")])],1),n("network",{attrs:{network:"reddit"}},[n("b-button",[t._v("Reddit")])],1),n("network",{attrs:{network:"telegram"}},[n("b-button",[t._v("Telegram")])],1),n("network",{attrs:{network:"twitter"}},[n("b-button",[t._v("Twitter")])],1),n("network",{attrs:{network:"whatsapp"}},[n("b-button",[t._v("Whatsapp")])],1)],1)},staticRenderFns:[]}}),n("hr"),t.user?n("div",{staticClass:"counters",staticStyle:{width:"100%",height:"30px"}},[n("b-button",{staticClass:"my-2 my-sm-0",staticStyle:{float:"left"},attrs:{size:"sm",variant:"success"},on:{click:t.openUpvote}},[n("b-icon-arrow-up"),t._v("\n              "+t._s(t.upvotes)+" UPVOTE\n            ")],1),n("b-button",{staticClass:"my-2 my-sm-0",staticStyle:{"margin-left":"10px",float:"left"},attrs:{size:"sm",variant:"danger"},on:{click:t.openDownvote}},[n("b-icon-arrow-down"),t._v(" \n              "+t._s(t.downvotes)+" DOWNVOTE\n            ")],1),n("b-button",{staticClass:"my-2 my-sm-0",staticStyle:{float:"right"},attrs:{size:"sm",variant:"primary"},on:{click:t.openTip}},[n("b-icon-credit-card"),t._v(" TIP USER\n            ")],1)],1):t._e(),t.user?t._e():n("div",[n("b",[n("b-icon-arrow-up"),t._v(" "+t._s(t.upvotes))],1),t._v(" UPVOTES\n            "),n("b",[n("b-icon-arrow-down"),t._v(" "+t._s(t.downvotes))],1),t._v(" DOWNVOTES\n          ")]),n("hr"),t.news.data.text?t._e():n("div",[n("div",{staticClass:"news news-text",domProps:{innerHTML:t._s(t.news.data)}})]),t.news.data.text?n("div",[n("div",{staticClass:"news news-text",domProps:{innerHTML:t._s(t.news.data.text)}})]):t._e()],1)])]),t.connected?n("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()])],1)},N=[],A=n("59ad"),M=n.n(A),K=n("8017"),$={name:"home",mounted:function(){this.checkIdaNodes(),this.checkUser()},methods:{checkUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.scrypta.keyExist();case 3:n=t.sent,34===n.length&&(e.user=n);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkIdaNodes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.scrypta.returnNodes(),n=this,a=0;a<e.length;a++)this.axios.get(e[a]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{uuid:n.$route.params.uuid}).then((function(t){n.news=t.data.data[0],void 0!==n.news.data.title?(n.news.data.title=K.decompress(n.news.data.title,{inputEncoding:"Base64"}),n.news.data.subtitle=K.decompress(n.news.data.subtitle,{inputEncoding:"Base64"}),n.news.data.image=K.decompress(n.news.data.image,{inputEncoding:"Base64"}),n.news.data.text=K.decompress(n.news.data.text,{inputEncoding:"Base64"}),void 0!==n.news.data.tags?(n.news.data.tags=K.decompress(n.news.data.tags,{inputEncoding:"Base64"}),n.news.data.tags=n.news.data.tags.split(",")):n.news.data.tags=[]):n.news.data=K.decompress(n.news.data,{inputEncoding:"Base64"}),n.time=new Date(1e3*n.news.time).toUTCString(),n.isLoading=!1,n.readCounters()})))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),upvote:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:""!==this.unlockPwd?(e=this,e.decrypted_wallet="WALLET LOCKED",e.scrypta.readKey(this.unlockPwd).then((function(t){if(!1!==t){e.isUploading=!0;var n="upvote",a=e.scrypta.PubAddress,i=e.scrypta.RAWsAPIKey,s="news://",o=e.$route.params.uuid;e.scrypta.write(e.unlockPwd,n,"",o,s,a+":"+i).then((function(t){e.isUploading=!1,void 0!==t.uuid?(alert("Upvote sent! Wait at least 2 minutes to see it!"),e.showUpvoteModal=!1):alert("Something goes wrong, retry!")}))}else alert("Wrong password!")}))):alert("Write your password first");case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),downvote:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:""!==this.unlockPwd?(e=this,e.decrypted_wallet="WALLET LOCKED",e.scrypta.readKey(this.unlockPwd).then((function(t){if(!1!==t){e.isUploading=!0;var n="downvote",a=e.scrypta.PubAddress,i=e.scrypta.RAWsAPIKey,s="news://",o=e.$route.params.uuid;e.scrypta.write(e.unlockPwd,n,"",o,s,a+":"+i).then((function(t){e.isUploading=!1,void 0!==t.uuid?(alert("Downvote sent! Wait at least 2 minutes to see it!"),e.showDownvoteModal=!1):alert("Something goes wrong, retry!")}))}else alert("Wrong password!")}))):alert("Write your password first");case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),tip:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,""!==e.unlockPwd&&e.amountTip>0?(e.decrypted_wallet="WALLET LOCKED",e.scrypta.readKey(this.unlockPwd).then((function(t){if(!1!==t){e.isUploading=!0;var n=e.scrypta.PubAddress,a=e.scrypta.RAWsAPIKey;e.axios.get(e.connected+"/balance/"+n).then((function(t){t.data.balance>e.amountTip?e.scrypta.send(e.unlockPwd,e.news.address,M()(e.amountTip),"",n+":"+a).then((function(t){e.showTipModal=!1,e.isUploading=!1,64===t.length?alert("Tip sent!"):alert("Something goes wrong, retry!")})):alert("Not enough balance!")}))}else alert("Wrong password!")}))):alert("Write your password and the amount first");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openTip:function(){var t=this;t.showTipModal=!0},openDownvote:function(){var t=this;t.showDownvoteModal=!0},openUpvote:function(){var t=this;t.showUpvoteModal=!0},readCounters:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.upvotes=0,e.downvotes=0,t.next=5,e.axios.post(e.connected+"/read",{protocol:"news://",refID:e.news.uuid});case 5:for(a in n=t.sent,n.data.data)void 0===e.voters[e.news.uuid]&&(e.voters[e.news.uuid]={}),void 0===e.voters[e.news.uuid][n.data.data[a].address]&&("upvote"===n.data.data[a].data?(e.upvotes++,e.voters[e.news.uuid][n.data.data[a].address]="upvote"):"downvote"===n.data.data[a].data&&(e.downvotes++,e.voters[e.news.uuid][n.data.data[a].address]="downvote"));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{upvotes:0,downvotes:0,showTipModal:!1,showUpvoteModal:!1,showDownvoteModal:!1,isUploading:!1,scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",time:"",news:[],isLoading:!0,amountTip:0,unlockPwd:"",user:"",voters:{}}}},z=$,q=(n("657d"),Object(d["a"])(z,j,N,!1,null,null,null)),F=q.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("v-gravatar",{staticStyle:{"margin-right":"20px","margin-top":"0px",float:"left"},attrs:{email:t.author,height:"70"}}),a("h4",{staticClass:"author"},[t._v(t._s(t.author))]),a("h5",[t._v("\n        "+t._s(t.identities.length)+" verified "),1===t.identities.length?a("span",[t._v("identity")]):t._e(),1!==t.identities.length?a("span",[t._v("identities")]):t._e(),a("div",{staticStyle:{float:"right","text-align":"right",width:"30%",display:"inline-block"}},t._l(t.identities,(function(e){return a("span",{key:e._id},[a("a",{attrs:{href:"https://proof.scryptachain.org/#/uuid/"+e.uuid,target:"_blank"}},["TWITTER"===e.refID?a("img",{staticStyle:{"margin-left":"10px"},attrs:{src:n("a3df"),height:"25"}}):t._e(),"LINKEDIN"===e.refID?a("img",{staticStyle:{"margin-left":"10px"},attrs:{src:n("953d"),height:"25"}}):t._e(),"GITHUB"===e.refID?a("img",{staticStyle:{"margin-left":"10px"},attrs:{src:n("387e"),height:"25"}}):t._e(),"GOOGLE"===e.refID?a("img",{staticStyle:{"margin-left":"10px"},attrs:{src:n("a546"),height:"25"}}):t._e(),"EMAIL"===e.refID?a("img",{staticStyle:{"margin-left":"10px"},attrs:{src:n("1752"),height:"25"}}):t._e(),"PHONE"===e.refID?a("img",{staticStyle:{"margin-left":"10px"},attrs:{src:n("9211"),height:"25"}}):t._e()])])})),0)]),a("hr"),t.isLoading?a("div",[t._v("Loading author's news from the blockchain...")]):t._e(),t.isLoading||0!==t.feed.length?t._e():a("div",[t._v("Nothing to show here...")]),t.isLoading?t._e():a("div",t._l(t.feed,(function(e){return a("div",{key:e._id,staticClass:"feed",staticStyle:{position:"relative"}},["upvote"!==e.data&&"downvote"!==e.data?a("div",[e.data.title?t._e():a("div",[a("h2",[t._v(t._s(e.refID))])]),e.data.title?a("div",[a("h2",[t._v(t._s(e.data.title))])]):t._e(),a("div",{staticStyle:{"font-size":"15px"}},[t._v("Written at block "),a("i",[t._v(t._s(e.block))])]),t.counters?a("div",{staticClass:"counters"},t._l(t.counters,(function(n){return a("div",{key:n.uuid},[n.uuid===e.uuid?a("div",[a("b",[a("b-icon-arrow-up"),t._v(" "+t._s(n.upvotes))],1),t._v(" UPVOTES\n                  "),a("b",[a("b-icon-arrow-down"),t._v(" "+t._s(n.downvotes))],1),t._v(" DOWNVOTES\n                ")]):t._e()])})),0):t._e(),a("a",{attrs:{href:"/#/news/"+e.uuid}},[a("b-icon-arrow-right",{staticClass:"arrow-dx"})],1),t.author===t.user?a("a",{attrs:{href:"/#/edit/"+e.uuid}},[a("b-icon-pencil",{staticClass:"pencil-dx"})],1):t._e(),a("hr")]):t._e()])})),0)],1)]),t.connected?a("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()])},H=[],Y=n("8017"),G={name:"home",mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.checkIdaNodes(),e.checkUser(),e.author=e.$route.params.address;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{checkUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.scrypta.keyExist();case 3:n=t.sent,34===n.length&&(e.user=n);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkIdaNodes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.scrypta.returnNodes(),n=this,a=0;a<e.length;a++)this.axios.get(e[a]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{protocol:"news://",address:n.author}).then((function(t){if(t.data.data.length>0)for(var e in t.data.data)if("upvote"!==t.data.data[e].data&&"downvote"!==t.data.data[e].data){var a=t.data.data[e].data;void 0!==a.title&&(t.data.data[e].data.title=Y.decompress(a.title,{inputEncoding:"Base64"}),t.data.data[e].data.subtitle=Y.decompress(a.subtitle,{inputEncoding:"Base64"}),t.data.data[e].data.image=Y.decompress(a.image,{inputEncoding:"Base64"}),t.data.data[e].data.text=Y.decompress(a.text,{inputEncoding:"Base64"})),n.feed.push(t.data.data[e])}n.readCounters(),n.isLoading=!1})),n.axios.post(n.connected+"/read",{protocol:"I://",address:n.author}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.identities=e.data.data;case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),readCounters:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,t.t0=regeneratorRuntime.keys(e.feed);case 2:if((t.t1=t.t0()).done){t.next=13;break}return n=t.t1.value,t.next=6,e.axios.post(e.connected+"/read",{protocol:"news://",refID:e.feed[n].uuid});case 6:for(o in a=t.sent,i=0,s=0,a.data.data)void 0===e.voters[e.feed[n].uuid]&&(e.voters[e.feed[n].uuid]={}),void 0===e.voters[e.feed[n].uuid][a.data.data[o].address]&&("upvote"===a.data.data[o].data?(i++,e.voters[e.feed[n].uuid][a.data.data[o].address]="upvote"):"downvote"===a.data.data[o].data&&(s++,e.voters[e.feed[n].uuid][a.data.data[o].address]="downvote"));e.counters.push({uuid:e.feed[n].uuid,upvotes:i,downvotes:s}),t.next=2;break;case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",feed:[],author:"",isLoading:!0,identities:[],counters:[],user:"",voters:{}}}},J=G,Q=(n("f59b"),Object(d["a"])(J,V,H,!1,null,null,null)),X=Q.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[n("b-modal",{attrs:{"hide-footer":"",title:"Write news on the blockchain"},model:{value:t.passwordShow,callback:function(e){t.passwordShow=e},expression:"passwordShow"}},[t.isUploading?t._e():n("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),n("br"),t.isUploading?t._e():n("div",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.unlockWallet(e)}}},[t._v("Write")])],1),n("b-modal",{attrs:{"hide-footer":"",title:"Invalidate news"},model:{value:t.invalidateShow,callback:function(e){t.invalidateShow=e},expression:"invalidateShow"}},[t._v("\n    With this operation the news will be delisted from the IdaNode but it will never deleted from the blockchain. \n    "),n("br"),t.isUploading?t._e():n("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),n("br"),t.isUploading?t._e():n("div",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.unlockWalletInvalidate(e)}}},[t._v("Invalidate")])],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"editor"},[n("h3",{staticClass:"text-center"},[t._v("\n          You're editing "),n("i",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.news.uuid))]),n("b-icon-trash",{staticStyle:{"font-size":"30px",cursor:"pointer",float:"right"},on:{click:t.showInvalidateModal}})],1),n("hr"),n("b-form-input",{attrs:{placeholder:"Enter a title"},model:{value:t.titleToWrite,callback:function(e){t.titleToWrite=e},expression:"titleToWrite"}}),n("b-form-input",{attrs:{placeholder:"Enter a subtitle"},model:{value:t.subtitleToWrite,callback:function(e){t.subtitleToWrite=e},expression:"subtitleToWrite"}}),n("b-form-input",{attrs:{placeholder:"Enter the URL of the main image"},model:{value:t.mainImageURL,callback:function(e){t.mainImageURL=e},expression:"mainImageURL"}}),t.editor?n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,i=e.isActive;return[n("div",{staticClass:"menubar",staticStyle:{"text-align":"center",width:"100%"}},[n("button",{staticClass:"menubar__button",class:{"is-active":i.bold()},on:{click:a.bold}},[n("b-icon-type-bold")],1),n("button",{staticClass:"menubar__button",on:{click:function(e){return t.showImagePrompt(a.image)}}},[n("b-icon-image")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.italic()},on:{click:a.italic}},[n("b-icon-type-italic")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.strike()},on:{click:a.strike}},[n("b-icon-type-strikethrough")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.underline()},on:{click:a.underline}},[n("b-icon-type-underline")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.paragraph()},on:{click:a.paragraph}},[t._v("\n                p\n              ")]),n("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:1})},on:{click:function(t){return a.heading({level:1})}}},[n("b-icon-type-h1")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:2})},on:{click:function(t){return a.heading({level:2})}}},[n("b-icon-type-h2")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:3})},on:{click:function(t){return a.heading({level:3})}}},[n("b-icon-type-h3")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.bullet_list()},on:{click:a.bullet_list}},[n("b-icon-list-ul")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.ordered_list()},on:{click:a.ordered_list}},[n("b-icon-list-ol")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.blockquote()},on:{click:a.blockquote}},[n("b-icon-blockquote-left")],1),n("button",{staticClass:"menubar__button",class:{"is-active":i.code_block()},on:{click:a.code_block}},[n("b-icon-code")],1),n("button",{staticClass:"menubar__button",on:{click:a.undo}},[n("b-icon-arrow-counterclockwise")],1),n("button",{staticClass:"menubar__button",on:{click:a.redo}},[n("b-icon-arrow-clockwise")],1)])]}}],null,!1,2862885158)}):t._e(),n("hr"),n("editor-content",{staticClass:"editor__content",staticStyle:{padding:"0"},attrs:{editor:t.editor}}),n("hr"),n("div",{staticClass:"text-center"},[t._v("\n            This news will write "+t._s(t.chunks)+" transactions and it will cost "+t._s(t.fees)+" LYRA\n          ")]),n("br"),n("div",{staticClass:"text-center"},[t.isUploading?n("div",[t._v("\n            "+t._s(t.workingmessage)+"\n          ")]):t._e(),t.isUploading?t._e():n("b-button",{attrs:{pill:""},on:{click:t.openUnlock}},[t._v("Write on the Blockchain")])],1),n("br"),n("br")],1)])]),t.connected?n("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()],1)},tt=[],et=n("8017"),nt={name:"home",components:{EditorContent:C["b"],EditorMenuBar:C["c"]},mounted:function(){this.checkIdaNodes()},methods:{showImagePrompt:function(t){var e=prompt("Enter the url of your image here");null!==e&&t({src:e})},checkUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,e.scrypta.keyExist();case 3:n=t.sent,e.public_address=this.scrypta.PubAddress,e.encrypted_wallet=this.scrypta.RAWsAPIKey,34===n.length?e.user=n:window.location="/#/login";case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showInvalidateModal:function(){var t=this;t.invalidateShow=!0},openUnlock:function(){var t=this;""!==t.html?t.axios.get(t.connected+"/balance/"+t.user).then((function(e){e.data.balance>t.fees?t.passwordShow=!0:alert("Not enough balance!")})):alert("Write something!")},uploadData:function(){var t=this,e=this;if(""!==e.html){e.isUploading=!0;var n=!1,a="news://",i=e.html,s=et.compress(i,{outputEncoding:"Base64"}),o=e.titleToWrite,r=et.compress(o,{outputEncoding:"Base64"}),c=e.subtitleToWrite,d=et.compress(c,{outputEncoding:"Base64"}),l=e.mainImageURL,u=et.compress(l,{outputEncoding:"Base64"}),p=x()(e.tagsToWrite),h=et.compress(p,{outputEncoding:"Base64"}),w=x()({title:r,subtitle:d,image:u,text:s,tags:h});!1===n?(e.workingmessage="Uploading data to the blockchain, please wait and don't refresh the page...",e.scrypta.write(e.unlockPwd,w,"","",a,e.public_address+":"+e.encrypted_wallet,e.news.uuid).then((function(n){void 0!==n.uuid?(alert("Data written correctly into the blockchain, wait at least 2 minutes and refresh the page!"),t.isUploading=!1,e.html="",e.title=""):(alert("There's an error in the upload, please retry!"),t.isUploading=!1)})).catch((function(){alert("There's an error in the upload, please retry!"),t.isUploading=!1}))):this.isUploading=!1}else alert("Write a text first!")},unlockWalletInvalidate:function(){if(""!==this.unlockPwd){var t=this;t.decrypted_wallet="WALLET LOCKED",t.scrypta.readKey(this.unlockPwd).then((function(e){!1!==e?(t.isUploading=!0,t.scrypta.invalidate(t.unlockPwd,t.public_address+":"+t.encrypted_wallet,t.news.uuid).then((function(e){t.isUploading=!1,!1!==e?(alert("Data invalidated correctly!"),window.location="/#/author/"+t.user):alert("There was a problem, please retry")}))):alert("Wrong password!")}))}else alert("Write your password first")},unlockWallet:function(){if(""!==this.unlockPwd){var t=this;t.decrypted_wallet="WALLET LOCKED",t.scrypta.readKey(this.unlockPwd).then((function(e){!1!==e?(t.passwordShow=!1,t.uploadData()):alert("Wrong password!")}))}else alert("Write your password first")},checkIdaNodes:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e=this.scrypta.returnNodes(),n=this,a=0;a<e.length;a++)this.axios.get(e[a]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{uuid:n.$route.params.uuid}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.checkUser();case 2:n.user!==e.data.data[0].address?window.location="/#/news/"+n.$route.params.uuid:(n.news=e.data.data[0],a="",void 0!==n.news.data.title?(n.titleToWrite=et.decompress(n.news.data.title,{inputEncoding:"Base64"}),n.subtitleToWrite=et.decompress(n.news.data.subtitle,{inputEncoding:"Base64"}),n.mainImageURL=et.decompress(n.news.data.image,{inputEncoding:"Base64"}),void 0!==n.news.data.tags&&(n.tagsToWrite=et.decompress(n.news.data.tags,{inputEncoding:"Base64"}),n.tagsToWrite=n.tagsToWrite.split(",")),n.news.data.text=et.decompress(n.news.data.text,{inputEncoding:"Base64"}),a=n.news.data.text):(n.titleToWrite=n.news.refID,n.news.data=et.decompress(n.news.data,{inputEncoding:"Base64"}),a=n.news.data),n.editor.destroy(),n.editor=new C["a"]({extensions:[new E["a"],new E["c"],new E["e"],new E["f"],new E["g"]({levels:[1,2,3]}),new E["i"],new E["m"],new E["j"],new E["n"],new E["p"],new E["q"],new E["l"],new E["b"],new E["d"],new E["k"],new E["o"],new E["r"],new E["h"]],content:a,onUpdate:function(t){var e=t.getHTML;i.html=e();var a=i.html,s=et.compress(a,{outputEncoding:"Base64"}),o=n.titleToWrite,r=et.compress(o,{outputEncoding:"Base64"}),c=n.subtitleToWrite,d=et.compress(c,{outputEncoding:"Base64"}),l=n.mainImageURL,u=et.compress(l,{outputEncoding:"Base64"}),p=x()(n.tagsToWrite),h=et.compress(p,{outputEncoding:"Base64"}),w=x()({title:r,subtitle:d,image:u,text:s,tags:h}),f=Math.ceil(w.length/7500);i.chunks=f,i.fees=.001*f}}),n.isLoading=!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],passwordShow:!1,invalidateShow:!1,unlockPwd:"",user:"",connected:"",decrypted_wallet:"",public_address:"",encrypted_wallet:"",workingmessage:"",isUploading:!1,news:"",newsText:"",titleToWrite:"",subtitleToWrite:"",tagsToWrite:[],mainImageURL:"",editor:new C["a"]({extensions:[new E["a"],new E["c"],new E["e"],new E["f"],new E["g"]({levels:[1,2,3]}),new E["i"],new E["m"],new E["j"],new E["n"],new E["p"],new E["q"],new E["l"],new E["b"],new E["d"],new E["k"],new E["o"],new E["r"],new E["h"]],content:""}),html:"",fees:0,chunks:0}},beforeDestroy:function(){this.editor.destroy()}},at=nt,it=(n("f8e8"),Object(d["a"])(at,Z,tt,!1,null,null,null)),st=it.exports,ot=n("e06a"),rt=n.n(ot);a["default"].use(p["a"]),a["default"].component("v-gravatar",rt.a);var ct=new p["a"]({base:"/",routes:[{path:"/",name:"home",component:b},{path:"/new",name:"new",component:R},{path:"/login",name:"login",component:B},{path:"/news/:uuid",name:"News",component:F},{path:"/edit/:uuid",name:"Edit",component:st},{path:"/author/:address",name:"Author",component:X}]}),dt=n("2f62");a["default"].use(dt["a"]);var lt=new dt["a"].Store({state:{},mutations:{},actions:{}}),ut=n("9483");Object(ut["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var pt=n("5f5b"),ht=n("b1e0"),wt=n("ec02"),ft=n.n(wt),vt=(n("f9e3"),n("2dd8"),n("5299"));a["default"].component("vue-headful",ft.a),a["default"].use(vt),a["default"].use(pt["a"]),a["default"].use(ht["a"]),window.axios=n("bc3a"),a["default"].config.productionTip=!1,new a["default"]({router:ct,store:lt,render:function(t){return t(u)}}).$mount("#app")},"64a9":function(t,e,n){},"657d":function(t,e,n){"use strict";var a=n("3147"),i=n.n(a);i.a},9211:function(t,e,n){t.exports=n.p+"img/iphone.cb307643.svg"},"953d":function(t,e,n){t.exports=n.p+"img/linkedin.380d97a6.svg"},9908:function(t,e,n){},a3df:function(t,e,n){t.exports=n.p+"img/twitter.7e145c9e.svg"},a546:function(t,e,n){t.exports=n.p+"img/google-plus.3f71987b.svg"},a9e7:function(t,e,n){},b3d9:function(t,e,n){},cccb:function(t,e,n){"use strict";var a=n("d563"),i=n.n(a);i.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.9c8b1b3c.png"},d563:function(t,e,n){},d6db:function(t,e,n){"use strict";var a=n("a9e7"),i=n.n(a);i.a},e099:function(t,e,n){"use strict";var a=n("9908"),i=n.n(a);i.a},f59b:function(t,e,n){"use strict";var a=n("30f6"),i=n.n(a);i.a},f8e8:function(t,e,n){"use strict";var a=n("b3d9"),i=n.n(a);i.a}});
//# sourceMappingURL=app.171df2e6.js.map