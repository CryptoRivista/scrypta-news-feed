(function(t){function e(e){for(var n,o,r=e[0],c=e[1],d=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),i=a.n(n);i.a},"05ea":function(t,e,a){},1:function(t,e){},1752:function(t,e,a){t.exports=a.p+"img/mail.795ea977.svg"},2:function(t,e){},"2326a":function(t,e,a){},"387e":function(t,e,a){t.exports=a.p+"img/github.1f33e75d.svg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light"}},[n("b-navbar-brand",{attrs:{href:"/#/"}},[n("img",{staticStyle:{float:"left","margin-right":"10px"},attrs:{height:"30",src:a("cf05")}}),t._v(" Scrypta News")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[t.user?t._e():n("a",{attrs:{href:"/#/login"}},[n("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm"}},[t._v("Login")])],1),t.user?n("a",{staticStyle:{color:"#333","margin-right":"10px"},attrs:{href:"/#/author/"+t.user}},[n("b-button",{staticStyle:{"background-color":"#d8213b","border-color":"#d8213b"},attrs:{size:"sm"}},[t._v("Publications")])],1):t._e(),t.user?n("a",{attrs:{href:"#"}},[n("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm"},on:{click:t.logout}},[t._v("Logout")])],1):t._e()])],1)],1),n("router-view"),t.user?n("a",{attrs:{href:"/#/new"}},[n("b-button",{staticStyle:{position:"fixed",bottom:"30px","font-weight":"bold","font-size":"30px","border-radius":"200px",width:"50px",padding:"0","text-align":"center","line-height":"45px",height:"50px",right:"30px"},attrs:{pill:"",variant:"primary"}},[t._v("+")])],1):t._e()],1)},s=[],o=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),r={mounted:function(){this.checkIdaNodes()},methods:{logout:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.scrypta.forgetKey();case 3:location.reload();case 4:case"end":return e.stop()}}),e)})))()},checkUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.scrypta.keyExist();case 3:n=e.sent,34===n.length&&(a.user=n);case 5:case"end":return e.stop()}}),e)})))()},checkIdaNodes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t.scrypta.returnNodes(),n=t,i=0;i<a.length;i++)t.axios.get(a[i]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.checkUser())}));case 3:case"end":return e.stop()}}),e)})))()}},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",isLoading:!0,user:""}}},c=r,d=(a("034f"),a("2877")),l=Object(d["a"])(c,i,s,!1,null,null,null),u=l.exports,p=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[a("vue-headful",{attrs:{title:"Scrypta Decentralized News Feed",description:"Read articles from trusted sources."}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 offset-md-2"},[a("h1",[t._v("Scrypta News")]),a("h3",[t._v("read articles from trusted sources.")]),a("hr"),t.isLoading?a("div",[t._v("Loading news from the blockchain...")]):t._e(),t.isLoading?t._e():a("div",t._l(t.feed,(function(e){return a("div",{key:e._id,staticClass:"feed",staticStyle:{position:"relative",float:"none",overflow:"hidden"}},["upvote"!==e.data&&"downvote"!==e.data?a("div",{staticStyle:{position:"relative"}},[a("a",{staticStyle:{position:"absolute",bottom:"40px",cursor:"pointer",right:"0"},attrs:{href:"/#/news/"+e.uuid}},[a("b-icon-arrow-right",{staticClass:"arrow-dx"})],1),e.data.image&&-1===e.data.image.indexOf("file://")&&-1===e.data.image.indexOf("http://")&&0===e.data.image.indexOf("https://")?a("div",[a("img",{staticStyle:{"margin-bottom":"20px"},attrs:{src:e.data.image,width:"100%"}})]):t._e(),e.data.title?t._e():a("div",[a("h3",{staticStyle:{margin:"0",padding:"0","font-size":"17px!important","font-weight":"bold","padding-right":"40px"}},[t._v(t._s(e.refID))])]),e.data.title?a("div",[a("h3",{staticStyle:{margin:"0",padding:"0","font-size":"17px!important","font-weight":"bold","padding-right":"40px"}},[t._v(t._s(e.data.title))])]):t._e(),e.data.tags?a("div",t._l(e.data.tags,(function(e){return a("span",{key:e,staticStyle:{margin:"0",padding:"0","font-size":"13px","padding-right":"10px"}},[t._v("#"+t._s(e))])})),0):t._e(),a("div",{staticStyle:{"font-size":"11px"}},[t._v(" Written by "),a("b",[a("a",{attrs:{href:"/#/author/"+e.address}},[t._v(t._s(e.address.substr(0,3))+"..."+t._s(e.address.substr(-3)))])]),t._v(" at block "),a("i",[t._v(t._s(e.block))])]),t.counters?a("div",{staticClass:"counters"},t._l(t.counters,(function(n){return a("div",{key:n.uuid},[n.uuid===e.uuid?a("div",[a("b",[a("b-icon-arrow-up"),t._v(" "+t._s(n.upvotes))],1),t._v(" UPVOTES "),a("b",[a("b-icon-arrow-down"),t._v(" "+t._s(n.downvotes))],1),t._v(" DOWNVOTES ")]):t._e()])})),0):t._e(),a("hr")]):t._e()])})),0)])]),t.connected?a("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()],1)},h=[],f=(a("d3b7"),a("ddb0"),a("8017")),v={name:"home",mounted:function(){this.checkIdaNodes()},methods:{checkIdaNodes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t.scrypta.returnNodes(),n=t,i=0;i<a.length;i++)t.axios.get(a[i]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{protocol:"news://"}).then((function(t){for(var e in t.data.data){var a=t.data.data[e].data;void 0!==a.title&&(t.data.data[e].data.title=f.decompress(a.title,{inputEncoding:"Base64"}),t.data.data[e].data.subtitle=f.decompress(a.subtitle,{inputEncoding:"Base64"}),t.data.data[e].data.image=f.decompress(a.image,{inputEncoding:"Base64"}),t.data.data[e].data.text=f.decompress(a.text,{inputEncoding:"Base64"}),void 0!==a.tags?(t.data.data[e].data.tags=f.decompress(a.tags,{inputEncoding:"Base64"}),t.data.data[e].data.tags=JSON.parse(t.data.data[e].data.tags)):t.data.data[e].data.tags=[]),n.feed.push(t.data.data[e])}n.isLoading=!1,n.readCounters()})))}));case 3:case"end":return e.stop()}}),e)})))()},readCounters:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,e.t0=regeneratorRuntime.keys(a.feed);case 2:if((e.t1=e.t0()).done){e.next=13;break}return n=e.t1.value,e.next=6,a.axios.post(a.connected+"/read",{protocol:"news://",refID:a.feed[n].uuid});case 6:for(r in i=e.sent,s=0,o=0,i.data.data)void 0===a.voters[a.feed[n].uuid]&&(a.voters[a.feed[n].uuid]={}),void 0===a.voters[a.feed[n].uuid][i.data.data[r].address]&&("upvote"===i.data.data[r].data?(s++,a.voters[a.feed[n].uuid][i.data.data[r].address]="upvote"):"downvote"===i.data.data[r].data&&(o++,a.voters[a.feed[n].uuid][i.data.data[r].address]="downvote"));a.counters.push({uuid:a.feed[n].uuid,upvotes:s,downvotes:o}),e.next=2;break;case 13:case"end":return e.stop()}}),e)})))()}},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",feed:[],isLoading:!0,counters:[],voters:{}}}},g=v,m=(a("cccb"),Object(d["a"])(g,w,h,!1,null,null,null)),b=m.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[a("vue-headful",{attrs:{title:"Scrypta Decentralized News Feed",description:"Read articles from trusted sources."}}),a("b-modal",{attrs:{"hide-footer":"",title:"Write news on the blockchain"},model:{value:t.passwordShow,callback:function(e){t.passwordShow=e},expression:"passwordShow"}},[t.isUploading?t._e():a("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),a("br"),t.isUploading?t._e():a("div",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.unlockWallet(e)}}},[t._v("Write")])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"editor"},[a("h3",{staticClass:"text-center"},[t._v("You're writing as "),a("i",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.user))])]),a("hr"),a("b-form-input",{attrs:{placeholder:"Enter a title"},model:{value:t.titleToWrite,callback:function(e){t.titleToWrite=e},expression:"titleToWrite"}}),a("b-form-input",{attrs:{placeholder:"Enter a subtitle"},model:{value:t.subtitleToWrite,callback:function(e){t.subtitleToWrite=e},expression:"subtitleToWrite"}}),a("b-form-input",{attrs:{placeholder:"Enter the URL of the main image"},model:{value:t.mainImageURL,callback:function(e){t.mainImageURL=e},expression:"mainImageURL"}}),a("b-form-tags",{attrs:{placeholder:"Enter tags"},model:{value:t.tagsToWrite,callback:function(e){t.tagsToWrite=e},expression:"tagsToWrite"}}),a("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.commands,i=e.isActive;return[a("div",{staticClass:"menubar",staticStyle:{"text-align":"center",width:"100%"}},[a("button",{staticClass:"menubar__button",class:{"is-active":i.bold()},on:{click:n.bold}},[a("b-icon-type-bold")],1),a("button",{staticClass:"menubar__button",on:{click:function(e){return t.showImagePrompt(n.image)}}},[a("b-icon-image")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.italic()},on:{click:n.italic}},[a("b-icon-type-italic")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.strike()},on:{click:n.strike}},[a("b-icon-type-strikethrough")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.underline()},on:{click:n.underline}},[a("b-icon-type-underline")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.paragraph()},on:{click:n.paragraph}},[t._v(" p ")]),a("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:1})},on:{click:function(t){return n.heading({level:1})}}},[a("b-icon-type-h1")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:2})},on:{click:function(t){return n.heading({level:2})}}},[a("b-icon-type-h2")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:3})},on:{click:function(t){return n.heading({level:3})}}},[a("b-icon-type-h3")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.bullet_list()},on:{click:n.bullet_list}},[a("b-icon-list-ul")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.ordered_list()},on:{click:n.ordered_list}},[a("b-icon-list-ol")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.blockquote()},on:{click:n.blockquote}},[a("b-icon-blockquote-left")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.code_block()},on:{click:n.code_block}},[a("b-icon-code")],1),a("button",{staticClass:"menubar__button",on:{click:n.undo}},[a("b-icon-arrow-counterclockwise")],1),a("button",{staticClass:"menubar__button",on:{click:n.redo}},[a("b-icon-arrow-clockwise")],1)])]}}])}),a("hr"),a("editor-content",{staticClass:"editor__content",staticStyle:{padding:"0"},attrs:{editor:t.editor}}),a("hr"),a("div",{staticClass:"text-center"},[t._v(" This news will write "+t._s(t.chunks)+" transaction"),t.chunks>1?a("span",[t._v("s")]):t._e(),t._v(" and it will cost "+t._s(t.fees)+" LYRA ")]),a("br"),a("div",{staticClass:"text-center"},[t.isUploading?a("div",[t._v(" "+t._s(t.workingmessage)+" ")]):t._e(),t.isUploading?t._e():a("b-button",{attrs:{pill:""},on:{click:t.openUnlock}},[t._v("Write on the Blockchain")])],1),a("br"),a("br")],1)])]),t.connected?a("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()],1)},k=[],y=a("cd42"),x=a("f23d"),C=a("8017"),S={name:"home",components:{EditorContent:y["b"],EditorMenuBar:y["c"]},mounted:function(){this.checkIdaNodes()},methods:{showImagePrompt:function(t){var e=prompt("Enter the url of your image here");null!==e&&t({src:e})},checkUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.scrypta.keyExist();case 3:n=e.sent,a.public_address=t.scrypta.PubAddress,a.encrypted_wallet=t.scrypta.RAWsAPIKey,34===n.length?a.user=n:window.location="/#/login";case 7:case"end":return e.stop()}}),e)})))()},openUnlock:function(){var t=this;""!==t.html?t.axios.get(t.connected+"/balance/"+t.user).then((function(e){e.data.balance>t.fees?t.passwordShow=!0:alert("Not enough balance!")})):alert("Write something!")},uploadData:function(){var t=this,e=this;if(""!==e.html){e.isUploading=!0;var a=!1,n="news://",i=e.html,s=C.compress(i,{outputEncoding:"Base64"}),o=e.titleToWrite,r=C.compress(o,{outputEncoding:"Base64"}),c=e.subtitleToWrite,d=C.compress(c,{outputEncoding:"Base64"}),l=e.mainImageURL,u=C.compress(l,{outputEncoding:"Base64"}),p=JSON.stringify(e.tagsToWrite),w=C.compress(p,{outputEncoding:"Base64"}),h=JSON.stringify({title:r,subtitle:d,image:u,text:s,tags:w});!1===a?(e.workingmessage="Uploading data to the blockchain, please wait and don't refresh the page...",e.scrypta.write(e.unlockPwd,h,"","",n,e.public_address+":"+e.encrypted_wallet).then((function(a){void 0!==a.uuid?(alert("Data written correctly into the blockchain, wait at least 2 minutes and refresh the page!"),t.isUploading=!1,e.html="",e.title="",window.location="/#/author/"+e.user):(alert("There's an error in the upload, please retry!"),t.isUploading=!1)})).catch((function(){alert("There's an error in the upload, please retry!"),t.isUploading=!1}))):this.isUploading=!1}else alert("Write a text first!")},unlockWallet:function(){if(""!==this.unlockPwd){var t=this;t.decrypted_wallet="WALLET LOCKED",t.scrypta.readKey(this.unlockPwd).then((function(e){!1!==e?(t.passwordShow=!1,t.uploadData()):alert("Wrong password!")}))}else alert("Write your password first")},checkIdaNodes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t.scrypta.returnNodes(),n=t,i=0;i<a.length;i++)t.axios.get(a[i]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.checkUser())}));case 3:case"end":return e.stop()}}),e)})))()}},data:function(){var t=this;return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],passwordShow:!1,unlockPwd:"",user:"",connected:"",decrypted_wallet:"",public_address:"",encrypted_wallet:"",workingmessage:"",isUploading:!1,titleToWrite:"",subtitleToWrite:"",tagsToWrite:[],mainImageURL:"",editor:new y["a"]({extensions:[new x["a"],new x["c"],new x["e"],new x["f"],new x["g"]({levels:[1,2,3]}),new x["i"],new x["m"],new x["j"],new x["n"],new x["p"],new x["q"],new x["l"],new x["b"],new x["d"],new x["k"],new x["o"],new x["r"],new x["h"]],content:" ",onUpdate:function(e){var a=e.getHTML,n=t;t.html=a();var i=t.html,s=C.compress(i,{outputEncoding:"Base64"}),o=n.titleToWrite,r=C.compress(o,{outputEncoding:"Base64"}),c=n.subtitleToWrite,d=C.compress(c,{outputEncoding:"Base64"}),l=n.mainImageURL,u=C.compress(l,{outputEncoding:"Base64"}),p=JSON.stringify(n.tagsToWrite),w=C.compress(p,{outputEncoding:"Base64"}),h=JSON.stringify({title:r,subtitle:d,image:u,text:s,tags:w}),f=Math.ceil(h.length/7500);t.chunks=f,t.fees=.001*f}}),html:"",fees:0,chunks:0}},beforeDestroy:function(){this.editor.destroy()}},E=S,T=(a("e099"),Object(d["a"])(E,_,k,!1,null,null,null)),W=T.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[a("vue-headful",{attrs:{title:"Scrypta Decentralized News Feed",description:"Read articles from trusted sources."}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",[t._v("Login")]),t._m(0),a("hr"),a("b-form-file",{staticClass:"text-left mb-3 mt-3",attrs:{placeholder:"Drag and drop a .sid file here o select it from computer"},on:{change:t.loadWalletFromFile},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)]),t.connected?a("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()],1)},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[t._v("Please enter with your .sid file or use "),a("i",[t._v("ScryptaID Extension")]),t._v(".")])}],R={name:"home",mounted:function(){this.checkIdaNodes()},methods:{checkUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.scrypta.keyExist();case 3:n=e.sent,34===n.length&&(window.location="/#/");case 5:case"end":return e.stop()}}),e)})))()},checkIdaNodes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t.scrypta.returnNodes(),n=t,i=0;i<a.length;i++)t.axios.get(a[i]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.checkUser())}));case 3:case"end":return e.stop()}}),e)})))()},loadWalletFromFile:function(t){var e=t.target.files[0],a=new FileReader,n=this;a.onload=function(){var t=a.result;n.scrypta.saveKey(t).then((function(){setTimeout((function(){location.reload()}),1e3)}))},a.readAsText(e)}},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",isLoading:!0,file:[]}}},P=R,L=(a("d6db"),Object(d["a"])(P,U,O,!1,null,null,null)),I=L.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[void 0!==t.news.data?a("vue-headful",{attrs:{title:t.news.data.title,description:t.news.data.subtitle}}):t._e(),a("b-modal",{staticClass:"text-center",attrs:{"hide-footer":"",title:"Tip User sending Lyra"},model:{value:t.showTipModal,callback:function(e){t.showTipModal=e},expression:"showTipModal"}},[t._v(" Send a tip to the user directly from here!"),a("br"),a("br"),a("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),a("br"),a("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:"LYRA"}},[a("b-input",{attrs:{id:"inline-form-input-username",placeholder:"Amount you want to send"},model:{value:t.amountTip,callback:function(e){t.amountTip=e},expression:"amountTip"}})],1),a("br"),t.isUploading?t._e():a("div",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},on:{click:function(e){return e.preventDefault(),t.tip(e)}}},[t._v("Tip")])],1),a("b-modal",{staticClass:"text-center",attrs:{"hide-footer":"",title:"Upvote news"},model:{value:t.showUpvoteModal,callback:function(e){t.showUpvoteModal=e},expression:"showUpvoteModal"}},[t._v(" By upvoting this news you're marking it as a true and trustable news and this action will be public."),a("br"),a("br"),a("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),a("br"),t.isUploading?t._e():a("div",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},on:{click:function(e){return e.preventDefault(),t.upvote(e)}}},[t._v("Upvote")])],1),a("b-modal",{staticClass:"text-center",attrs:{"hide-footer":"",title:"Downvote news"},model:{value:t.showDownvoteModal,callback:function(e){t.showDownvoteModal=e},expression:"showDownvoteModal"}},[t._v(" By downvoting this news you're marking it as a fake news or spam or untrustable and this action will be public."),a("br"),a("br"),a("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),a("br"),t.isUploading?t._e():a("div",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},on:{click:function(e){return e.preventDefault(),t.downvote(e)}}},[t._v("Downvote")])],1),a("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 offset-md-2"},[t.isLoading?a("div",[t._v("Loading news from the blockchain...")]):t._e(),t.isLoading?t._e():a("div",{staticClass:"news-head"},[t.news.data.title?t._e():a("div",[a("h1",{staticStyle:{margin:"0",padding:"0","margin-bottom":"-30px"}},[t._v(t._s(t.news.refID))]),a("br")]),t.news.data.title?a("div",[a("h1",{staticStyle:{margin:"0",padding:"0","margin-bottom":"-30px"}},[t._v(t._s(t.news.data.title))]),a("br")]):t._e(),t.news.data.subtitle?a("div",[a("h3",{staticStyle:{margin:"0",padding:"0","margin-bottom":"-30px"}},[t._v(t._s(t.news.data.subtitle))]),a("br")]):t._e(),t.news.data.tags?a("div",t._l(t.news.data.tags,(function(e){return a("span",{key:e,staticStyle:{margin:"0",padding:"0","padding-right":"10px"}},[t._v("#"+t._s(e))])})),0):t._e(),t.news.data.image&&-1===t.news.data.image.indexOf("file://")&&-1===t.news.data.image.indexOf("http://")&&0===t.news.data.image.indexOf("https://")?a("div",[a("br"),a("img",{attrs:{src:t.news.data.image,width:"100%"}})]):t._e(),a("div",{staticStyle:{"font-size":"15px","margin-top":"0px"}},[a("v-gravatar",{staticStyle:{"margin-right":"20px","margin-top":"28px",float:"left"},attrs:{email:t.news.address,height:"80"}}),a("br"),t._v(" Written by "),a("b",[a("a",{attrs:{href:"/#/author/"+t.news.address}},[t._v(t._s(t.news.address))])])],1),t._v(" at block "),a("i",[t._v(t._s(t.news.block))]),a("br"),t._v(" Timestamped at "+t._s(t.time)),a("br"),a("a",{attrs:{href:"https://proof.scryptachain.org/#/uuid/"+t.news.uuid,target:"_blank"}},[t._v(" Show Proof of Existence "),a("b-icon-arrow-right")],1),a("hr"),a("social-sharing",{attrs:{url:"https://news.scryptachain.org/#/news/"+t.news.uuid,title:t.news.data.title,description:t.news.data.text.replace(/<\/?[^>]+(>|$)/g,"").substr(0,255)+"...",quote:t.news.data.subtitle,hashtags:JSON.stringify(t.news.data.tags)},inlineTemplate:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sharing-buttons"},[a("h5",[t._v("Share on:")]),a("network",{attrs:{network:"email"}},[a("b-button",[t._v("Email")])],1),a("network",{attrs:{network:"facebook"}},[a("b-button",[t._v("Facebook")])],1),a("network",{attrs:{network:"linkedin"}},[a("b-button",[t._v("Linkedin")])],1),a("network",{attrs:{network:"reddit"}},[a("b-button",[t._v("Reddit")])],1),a("network",{attrs:{network:"telegram"}},[a("b-button",[t._v("Telegram")])],1),a("network",{attrs:{network:"twitter"}},[a("b-button",[t._v("Twitter")])],1),a("network",{attrs:{network:"whatsapp"}},[a("b-button",[t._v("Whatsapp")])],1)],1)},staticRenderFns:[]}}),a("hr"),t.user?a("div",{staticClass:"counters",staticStyle:{width:"100%",height:"30px"}},[a("b-button",{staticClass:"my-2 my-sm-0",staticStyle:{float:"left"},attrs:{size:"sm",variant:"success"},on:{click:t.openUpvote}},[a("b-icon-arrow-up"),t._v(" "+t._s(t.upvotes)+" UPVOTE ")],1),a("b-button",{staticClass:"my-2 my-sm-0",staticStyle:{"margin-left":"10px",float:"left"},attrs:{size:"sm",variant:"danger"},on:{click:t.openDownvote}},[a("b-icon-arrow-down"),t._v(" "+t._s(t.downvotes)+" DOWNVOTE ")],1),a("b-button",{staticClass:"my-2 my-sm-0",staticStyle:{float:"right"},attrs:{size:"sm",variant:"primary"},on:{click:t.openTip}},[a("b-icon-credit-card"),t._v(" TIP USER ")],1)],1):t._e(),t.user?t._e():a("div",[a("b",[a("b-icon-arrow-up"),t._v(" "+t._s(t.upvotes))],1),t._v(" UPVOTES "),a("b",[a("b-icon-arrow-down"),t._v(" "+t._s(t.downvotes))],1),t._v(" DOWNVOTES ")]),a("hr"),t.news.data.text?t._e():a("div",[a("div",{staticClass:"news news-text",domProps:{innerHTML:t._s(t.news.data)}})]),t.news.data.text?a("div",[a("div",{staticClass:"news news-text",domProps:{innerHTML:t._s(t.news.data.text)}})]):t._e()],1)])]),t.connected?a("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()])],1)},N=[],B=a("8017"),j={name:"home",mounted:function(){this.checkIdaNodes(),this.checkUser()},methods:{checkUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.scrypta.keyExist();case 3:n=e.sent,34===n.length&&(a.user=n);case 5:case"end":return e.stop()}}),e)})))()},checkIdaNodes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t.scrypta.returnNodes(),n=t,i=0;i<a.length;i++)t.axios.get(a[i]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{uuid:n.$route.params.uuid}).then((function(t){n.news=t.data.data[0],void 0!==n.news.data.title?(n.news.data.title=B.decompress(n.news.data.title,{inputEncoding:"Base64"}),n.news.data.subtitle=B.decompress(n.news.data.subtitle,{inputEncoding:"Base64"}),n.news.data.image=B.decompress(n.news.data.image,{inputEncoding:"Base64"}),n.news.data.text=B.decompress(n.news.data.text,{inputEncoding:"Base64"}),void 0!==n.news.data.tags?(n.news.data.tags=B.decompress(n.news.data.tags,{inputEncoding:"Base64"}),n.news.data.tags=JSON.parse(n.news.data.tags)):n.news.data.tags=[]):n.news.data=B.decompress(n.news.data,{inputEncoding:"Base64"}),n.time=new Date(1e3*n.news.time).toUTCString(),n.isLoading=!1,n.readCounters()})))}));case 3:case"end":return e.stop()}}),e)})))()},upvote:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:""!==t.unlockPwd?(a=t,a.decrypted_wallet="WALLET LOCKED",a.scrypta.readKey(t.unlockPwd).then((function(t){if(!1!==t){a.isUploading=!0;var e="upvote",n=a.scrypta.PubAddress,i=a.scrypta.RAWsAPIKey,s="news://",o=a.$route.params.uuid;a.scrypta.write(a.unlockPwd,e,"",o,s,n+":"+i).then((function(t){a.isUploading=!1,void 0!==t.uuid?(alert("Upvote sent! Wait at least 2 minutes to see it!"),a.showUpvoteModal=!1):alert("Something goes wrong, retry!")}))}else alert("Wrong password!")}))):alert("Write your password first");case 1:case"end":return e.stop()}}),e)})))()},downvote:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:""!==t.unlockPwd?(a=t,a.decrypted_wallet="WALLET LOCKED",a.scrypta.readKey(t.unlockPwd).then((function(t){if(!1!==t){a.isUploading=!0;var e="downvote",n=a.scrypta.PubAddress,i=a.scrypta.RAWsAPIKey,s="news://",o=a.$route.params.uuid;a.scrypta.write(a.unlockPwd,e,"",o,s,n+":"+i).then((function(t){a.isUploading=!1,void 0!==t.uuid?(alert("Downvote sent! Wait at least 2 minutes to see it!"),a.showDownvoteModal=!1):alert("Something goes wrong, retry!")}))}else alert("Wrong password!")}))):alert("Write your password first");case 1:case"end":return e.stop()}}),e)})))()},tip:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,""!==a.unlockPwd&&a.amountTip>0?(a.decrypted_wallet="WALLET LOCKED",a.scrypta.readKey(t.unlockPwd).then((function(t){if(!1!==t){a.isUploading=!0;var e=a.scrypta.PubAddress,n=a.scrypta.RAWsAPIKey;a.axios.get(a.connected+"/balance/"+e).then((function(t){t.data.balance>a.amountTip?a.scrypta.send(a.unlockPwd,a.news.address,parseFloat(a.amountTip),"",e+":"+n).then((function(t){a.showTipModal=!1,a.isUploading=!1,64===t.length?alert("Tip sent!"):alert("Something goes wrong, retry!")})):alert("Not enough balance!")}))}else alert("Wrong password!")}))):alert("Write your password and the amount first");case 2:case"end":return e.stop()}}),e)})))()},openTip:function(){var t=this;t.showTipModal=!0},openDownvote:function(){var t=this;t.showDownvoteModal=!0},openUpvote:function(){var t=this;t.showUpvoteModal=!0},readCounters:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.upvotes=0,a.downvotes=0,e.next=5,a.axios.post(a.connected+"/read",{protocol:"news://",refID:a.news.uuid});case 5:for(i in n=e.sent,n.data.data)void 0===a.voters[a.news.uuid]&&(a.voters[a.news.uuid]={}),void 0===a.voters[a.news.uuid][n.data.data[i].address]&&("upvote"===n.data.data[i].data?(a.upvotes++,a.voters[a.news.uuid][n.data.data[i].address]="upvote"):"downvote"===n.data.data[i].data&&(a.downvotes++,a.voters[a.news.uuid][n.data.data[i].address]="downvote"));case 7:case"end":return e.stop()}}),e)})))()}},data:function(){return{upvotes:0,downvotes:0,showTipModal:!1,showUpvoteModal:!1,showDownvoteModal:!1,isUploading:!1,scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",time:"",news:[],isLoading:!0,amountTip:0,unlockPwd:"",user:"",voters:{}}}},A=j,M=(a("657d"),Object(d["a"])(A,D,N,!1,null,null,null)),z=M.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[n("vue-headful",{attrs:{title:"Scrypta Decentralized News Feed",description:"Read articles from trusted sources."}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("v-gravatar",{staticStyle:{"margin-right":"20px","margin-top":"0px",float:"left"},attrs:{email:t.author,height:"70"}}),n("h4",{staticClass:"author"},[t._v(t._s(t.author))]),n("h5",[t._v(" "+t._s(t.identities.length)+" verified "),1===t.identities.length?n("span",[t._v("identity")]):t._e(),1!==t.identities.length?n("span",[t._v("identities")]):t._e(),n("div",{staticStyle:{float:"right","text-align":"right",width:"30%",display:"inline-block"}},t._l(t.identities,(function(e){return n("span",{key:e._id},[n("a",{attrs:{href:"https://proof.scryptachain.org/#/uuid/"+e.uuid,target:"_blank"}},["TWITTER"===e.refID?n("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("a3df"),height:"25"}}):t._e(),"LINKEDIN"===e.refID?n("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("953d"),height:"25"}}):t._e(),"GITHUB"===e.refID?n("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("387e"),height:"25"}}):t._e(),"GOOGLE"===e.refID?n("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("a546"),height:"25"}}):t._e(),"EMAIL"===e.refID?n("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("1752"),height:"25"}}):t._e(),"PHONE"===e.refID?n("img",{staticStyle:{"margin-left":"10px"},attrs:{src:a("9211"),height:"25"}}):t._e()])])})),0)]),n("hr"),t.isLoading?n("div",[t._v("Loading author's news from the blockchain...")]):t._e(),t.isLoading||0!==t.feed.length?t._e():n("div",[t._v("Nothing to show here...")]),t.isLoading?t._e():n("div",t._l(t.feed,(function(e){return n("div",{key:e._id,staticClass:"feed",staticStyle:{position:"relative"}},["upvote"!==e.data&&"downvote"!==e.data?n("div",[e.data.title?t._e():n("div",[n("h2",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v(t._s(e.refID))])]),e.data.title?n("div",[n("h2",{staticStyle:{"font-size":"15px","font-weight":"bold"}},[t._v(t._s(e.data.title))])]):t._e(),n("div",{staticStyle:{"font-size":"12px"}},[t._v("Written at block "),n("i",[t._v(t._s(e.block))])]),t.counters?n("div",{staticClass:"counters"},t._l(t.counters,(function(a){return n("div",{key:a.uuid},[a.uuid===e.uuid?n("div",[n("b",[n("b-icon-arrow-up"),t._v(" "+t._s(a.upvotes))],1),t._v(" UPVOTES "),n("b",[n("b-icon-arrow-down"),t._v(" "+t._s(a.downvotes))],1),t._v(" DOWNVOTES ")]):t._e()])})),0):t._e(),n("a",{attrs:{href:"/#/news/"+e.uuid}},[n("b-icon-arrow-right",{staticClass:"arrow-dx",staticStyle:{"font-size":"30px!important"}})],1),t.author===t.user?n("a",{attrs:{href:"/#/edit/"+e.uuid}},[n("b-icon-pencil",{staticClass:"pencil-dx",staticStyle:{"font-size":"28px!important"}})],1):t._e(),n("hr")]):t._e()])})),0)],1)]),t.connected?n("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()],1)},$=[],F=(a("c975"),a("8017")),J={name:"home",mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.checkIdaNodes(),e.checkUser(),e.author=e.$route.params.address;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{checkUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.scrypta.keyExist();case 3:n=e.sent,34===n.length&&(a.user=n);case 5:case"end":return e.stop()}}),e)})))()},checkIdaNodes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t.scrypta.returnNodes(),n=t,i=0;i<a.length;i++)t.axios.get(a[i]+"/wallet/getinfo").then((function(t){void 0!==t.data.blocks&&""===n.connected&&(n.connected=t.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{protocol:"news://",address:n.author}).then((function(t){if(t.data.data.length>0)for(var e in t.data.data)if("upvote"!==t.data.data[e].data&&"downvote"!==t.data.data[e].data){var a=t.data.data[e].data;void 0!==a.title&&(t.data.data[e].data.title=F.decompress(a.title,{inputEncoding:"Base64"}),t.data.data[e].data.subtitle=F.decompress(a.subtitle,{inputEncoding:"Base64"}),t.data.data[e].data.image=F.decompress(a.image,{inputEncoding:"Base64"}),t.data.data[e].data.text=F.decompress(a.text,{inputEncoding:"Base64"})),n.feed.push(t.data.data[e])}n.readCounters(),n.isLoading=!1})),n.axios.post(n.connected+"/read",{protocol:"I://",address:n.author}).then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in console.log(e.data.data),n.identities=[],e.data.data)i=e.data.data[a],-1===n.check.indexOf(i.refID)&&(n.check.push(i.refID),n.identities.push(i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}));case 3:case"end":return e.stop()}}),e)})))()},readCounters:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i,s,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t,e.t0=regeneratorRuntime.keys(a.feed);case 2:if((e.t1=e.t0()).done){e.next=13;break}return n=e.t1.value,e.next=6,a.axios.post(a.connected+"/read",{protocol:"news://",refID:a.feed[n].uuid});case 6:for(r in i=e.sent,s=0,o=0,i.data.data)void 0===a.voters[a.feed[n].uuid]&&(a.voters[a.feed[n].uuid]={}),void 0===a.voters[a.feed[n].uuid][i.data.data[r].address]&&("upvote"===i.data.data[r].data?(s++,a.voters[a.feed[n].uuid][i.data.data[r].address]="upvote"):"downvote"===i.data.data[r].data&&(o++,a.voters[a.feed[n].uuid][i.data.data[r].address]="downvote"));a.counters.push({uuid:a.feed[n].uuid,upvotes:s,downvotes:o}),e.next=2;break;case 13:case"end":return e.stop()}}),e)})))()}},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],connected:"",feed:[],author:"",isLoading:!0,identities:[],check:[],counters:[],user:"",voters:{}}}},q=J,V=(a("f59b"),Object(d["a"])(q,K,$,!1,null,null,null)),H=V.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"40px"}},[a("vue-headful",{attrs:{title:"Scrypta Decentralized News Feed",description:"Read articles from trusted sources."}}),a("b-modal",{attrs:{"hide-footer":"",title:"Write news on the blockchain"},model:{value:t.passwordShow,callback:function(e){t.passwordShow=e},expression:"passwordShow"}},[t.isUploading?t._e():a("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),a("br"),t.isUploading?t._e():a("div",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.unlockWallet(e)}}},[t._v("Write")])],1),a("b-modal",{attrs:{"hide-footer":"",title:"Invalidate news"},model:{value:t.invalidateShow,callback:function(e){t.invalidateShow=e},expression:"invalidateShow"}},[t._v(" With this operation the news will be delisted from the IdaNode but it will never deleted from the blockchain. "),a("br"),t.isUploading?t._e():a("b-form-input",{attrs:{type:"password",placeholder:"Enter wallet password"},model:{value:t.unlockPwd,callback:function(e){t.unlockPwd=e},expression:"unlockPwd"}}),a("br"),t.isUploading?t._e():a("div",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.unlockWalletInvalidate(e)}}},[t._v("Invalidate")])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"editor"},[a("h3",{staticClass:"text-center"},[t._v(" You're editing "),a("i",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.news.uuid))]),a("b-icon-trash",{staticStyle:{"font-size":"30px",cursor:"pointer",float:"right"},on:{click:t.showInvalidateModal}})],1),a("hr"),a("b-form-input",{attrs:{placeholder:"Enter a title"},model:{value:t.titleToWrite,callback:function(e){t.titleToWrite=e},expression:"titleToWrite"}}),a("b-form-input",{attrs:{placeholder:"Enter a subtitle"},model:{value:t.subtitleToWrite,callback:function(e){t.subtitleToWrite=e},expression:"subtitleToWrite"}}),a("b-form-input",{attrs:{placeholder:"Enter the URL of the main image"},model:{value:t.mainImageURL,callback:function(e){t.mainImageURL=e},expression:"mainImageURL"}}),t.editor?a("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.commands,i=e.isActive;return[a("div",{staticClass:"menubar",staticStyle:{"text-align":"center",width:"100%"}},[a("button",{staticClass:"menubar__button",class:{"is-active":i.bold()},on:{click:n.bold}},[a("b-icon-type-bold")],1),a("button",{staticClass:"menubar__button",on:{click:function(e){return t.showImagePrompt(n.image)}}},[a("b-icon-image")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.italic()},on:{click:n.italic}},[a("b-icon-type-italic")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.strike()},on:{click:n.strike}},[a("b-icon-type-strikethrough")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.underline()},on:{click:n.underline}},[a("b-icon-type-underline")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.paragraph()},on:{click:n.paragraph}},[t._v(" p ")]),a("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:1})},on:{click:function(t){return n.heading({level:1})}}},[a("b-icon-type-h1")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:2})},on:{click:function(t){return n.heading({level:2})}}},[a("b-icon-type-h2")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.heading({level:3})},on:{click:function(t){return n.heading({level:3})}}},[a("b-icon-type-h3")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.bullet_list()},on:{click:n.bullet_list}},[a("b-icon-list-ul")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.ordered_list()},on:{click:n.ordered_list}},[a("b-icon-list-ol")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.blockquote()},on:{click:n.blockquote}},[a("b-icon-blockquote-left")],1),a("button",{staticClass:"menubar__button",class:{"is-active":i.code_block()},on:{click:n.code_block}},[a("b-icon-code")],1),a("button",{staticClass:"menubar__button",on:{click:n.undo}},[a("b-icon-arrow-counterclockwise")],1),a("button",{staticClass:"menubar__button",on:{click:n.redo}},[a("b-icon-arrow-clockwise")],1)])]}}],null,!1,1506959398)}):t._e(),a("hr"),a("editor-content",{staticClass:"editor__content",staticStyle:{padding:"0"},attrs:{editor:t.editor}}),a("hr"),a("div",{staticClass:"text-center"},[t._v(" This news will write "+t._s(t.chunks)+" transactions and it will cost "+t._s(t.fees)+" LYRA ")]),a("br"),a("div",{staticClass:"text-center"},[t.isUploading?a("div",[t._v(" "+t._s(t.workingmessage)+" ")]):t._e(),t.isUploading?t._e():a("b-button",{attrs:{pill:""},on:{click:t.openUnlock}},[t._v("Write on the Blockchain")])],1),a("br"),a("br")],1)])]),t.connected?a("div",{staticClass:"node-badge"},[t._v(t._s(t.connected))]):t._e()],1)},G=[],Q=(a("1276"),a("8017")),X={name:"home",components:{EditorContent:y["b"],EditorMenuBar:y["c"]},mounted:function(){this.checkIdaNodes()},methods:{showImagePrompt:function(t){var e=prompt("Enter the url of your image here");null!==e&&t({src:e})},checkUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.scrypta.keyExist();case 3:n=e.sent,a.public_address=t.scrypta.PubAddress,a.encrypted_wallet=t.scrypta.RAWsAPIKey,34===n.length?a.user=n:window.location="/#/login";case 7:case"end":return e.stop()}}),e)})))()},showInvalidateModal:function(){var t=this;t.invalidateShow=!0},openUnlock:function(){var t=this;""!==t.html?t.axios.get(t.connected+"/balance/"+t.user).then((function(e){e.data.balance>t.fees?t.passwordShow=!0:alert("Not enough balance!")})):alert("Write something!")},uploadData:function(){var t=this,e=this;if(""!==e.html){e.isUploading=!0;var a=!1,n="news://",i=e.html,s=Q.compress(i,{outputEncoding:"Base64"}),o=e.titleToWrite,r=Q.compress(o,{outputEncoding:"Base64"}),c=e.subtitleToWrite,d=Q.compress(c,{outputEncoding:"Base64"}),l=e.mainImageURL,u=Q.compress(l,{outputEncoding:"Base64"}),p=JSON.stringify(e.tagsToWrite),w=Q.compress(p,{outputEncoding:"Base64"}),h=JSON.stringify({title:r,subtitle:d,image:u,text:s,tags:w});!1===a?(e.workingmessage="Uploading data to the blockchain, please wait and don't refresh the page...",e.scrypta.write(e.unlockPwd,h,"","",n,e.public_address+":"+e.encrypted_wallet,e.news.uuid).then((function(a){void 0!==a.uuid?(alert("Data written correctly into the blockchain, wait at least 2 minutes and refresh the page!"),t.isUploading=!1,e.html="",e.title=""):(alert("There's an error in the upload, please retry!"),t.isUploading=!1)})).catch((function(){alert("There's an error in the upload, please retry!"),t.isUploading=!1}))):this.isUploading=!1}else alert("Write a text first!")},unlockWalletInvalidate:function(){if(""!==this.unlockPwd){var t=this;t.decrypted_wallet="WALLET LOCKED",t.scrypta.readKey(this.unlockPwd).then((function(e){!1!==e?(t.isUploading=!0,t.scrypta.invalidate(t.unlockPwd,t.public_address+":"+t.encrypted_wallet,t.news.uuid).then((function(e){t.isUploading=!1,!1!==e?(alert("Data invalidated correctly!"),window.location="/#/author/"+t.user):alert("There was a problem, please retry")}))):alert("Wrong password!")}))}else alert("Write your password first")},unlockWallet:function(){if(""!==this.unlockPwd){var t=this;t.decrypted_wallet="WALLET LOCKED",t.scrypta.readKey(this.unlockPwd).then((function(e){!1!==e?(t.passwordShow=!1,t.uploadData()):alert("Wrong password!")}))}else alert("Write your password first")},checkIdaNodes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=t.scrypta.returnNodes(),n=t,i=0;i<a.length;i++)t.axios.get(a[i]+"/wallet/getinfo").then((function(e){void 0!==e.data.blocks&&""===n.connected&&(n.connected=e.config.url.replace("/wallet/getinfo",""),n.axios.post(n.connected+"/read",{uuid:n.$route.params.uuid}).then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.checkUser();case 2:n.user!==a.data.data[0].address?window.location="/#/news/"+n.$route.params.uuid:(n.news=a.data.data[0],i="",void 0!==n.news.data.title?(n.titleToWrite=Q.decompress(n.news.data.title,{inputEncoding:"Base64"}),n.subtitleToWrite=Q.decompress(n.news.data.subtitle,{inputEncoding:"Base64"}),n.mainImageURL=Q.decompress(n.news.data.image,{inputEncoding:"Base64"}),void 0!==n.news.data.tags&&(n.tagsToWrite=Q.decompress(n.news.data.tags,{inputEncoding:"Base64"}),n.tagsToWrite=n.tagsToWrite.split(",")),n.news.data.text=Q.decompress(n.news.data.text,{inputEncoding:"Base64"}),i=n.news.data.text):(n.titleToWrite=n.news.refID,n.news.data=Q.decompress(n.news.data,{inputEncoding:"Base64"}),i=n.news.data),n.editor.destroy(),n.editor=new y["a"]({extensions:[new x["a"],new x["c"],new x["e"],new x["f"],new x["g"]({levels:[1,2,3]}),new x["i"],new x["m"],new x["j"],new x["n"],new x["p"],new x["q"],new x["l"],new x["b"],new x["d"],new x["k"],new x["o"],new x["r"],new x["h"]],content:i,onUpdate:function(e){var a=e.getHTML;t.html=a();var i=t.html,s=Q.compress(i,{outputEncoding:"Base64"}),o=n.titleToWrite,r=Q.compress(o,{outputEncoding:"Base64"}),c=n.subtitleToWrite,d=Q.compress(c,{outputEncoding:"Base64"}),l=n.mainImageURL,u=Q.compress(l,{outputEncoding:"Base64"}),p=JSON.stringify(n.tagsToWrite),w=Q.compress(p,{outputEncoding:"Base64"}),h=JSON.stringify({title:r,subtitle:d,image:u,text:s,tags:w}),f=Math.ceil(h.length/7500);t.chunks=f,t.fees=.001*f}}),n.isLoading=!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}));case 3:case"end":return e.stop()}}),e)})))()}},data:function(){return{scrypta:window.ScryptaCore,axios:window.axios,nodes:[],passwordShow:!1,invalidateShow:!1,unlockPwd:"",user:"",connected:"",decrypted_wallet:"",public_address:"",encrypted_wallet:"",workingmessage:"",isUploading:!1,news:"",newsText:"",titleToWrite:"",subtitleToWrite:"",tagsToWrite:[],mainImageURL:"",editor:new y["a"]({extensions:[new x["a"],new x["c"],new x["e"],new x["f"],new x["g"]({levels:[1,2,3]}),new x["i"],new x["m"],new x["j"],new x["n"],new x["p"],new x["q"],new x["l"],new x["b"],new x["d"],new x["k"],new x["o"],new x["r"],new x["h"]],content:""}),html:"",fees:0,chunks:0}},beforeDestroy:function(){this.editor.destroy()}},Z=X,tt=(a("f8e8"),Object(d["a"])(Z,Y,G,!1,null,null,null)),et=tt.exports,at=a("e06a"),nt=a.n(at);n["default"].use(p["a"]),n["default"].component("v-gravatar",nt.a);var it=new p["a"]({base:"/",routes:[{path:"/",name:"home",component:b},{path:"/new",name:"new",component:W},{path:"/login",name:"login",component:I},{path:"/news/:uuid",name:"News",component:z},{path:"/edit/:uuid",name:"Edit",component:et},{path:"/author/:address",name:"Author",component:H}]}),st=a("2f62");n["default"].use(st["a"]);var ot=new st["a"].Store({state:{},mutations:{},actions:{}}),rt=a("9483");Object(rt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ct=a("5f5b"),dt=a("b1e0"),lt=a("ec02"),ut=a.n(lt),pt=(a("f9e3"),a("2dd8"),a("5299"));n["default"].component("vue-headful",ut.a),n["default"].use(pt),n["default"].use(ct["a"]),n["default"].use(dt["a"]),window.axios=a("bc3a"),n["default"].config.productionTip=!1,new n["default"]({router:it,store:ot,render:function(t){return t(u)}}).$mount("#app")},"5ced":function(t,e,a){},"657d":function(t,e,a){"use strict";var n=a("05ea"),i=a.n(n);i.a},"85ec":function(t,e,a){},9211:function(t,e,a){t.exports=a.p+"img/iphone.cb307643.svg"},"953d":function(t,e,a){t.exports=a.p+"img/linkedin.380d97a6.svg"},"9e58":function(t,e,a){},a3df:function(t,e,a){t.exports=a.p+"img/twitter.7e145c9e.svg"},a546:function(t,e,a){t.exports=a.p+"img/google-plus.3f71987b.svg"},c19f:function(t,e,a){},cccb:function(t,e,a){"use strict";var n=a("5ced"),i=a.n(n);i.a},cf05:function(t,e,a){t.exports=a.p+"img/logo.9c8b1b3c.png"},d6db:function(t,e,a){"use strict";var n=a("e67a"),i=a.n(n);i.a},e099:function(t,e,a){"use strict";var n=a("c19f"),i=a.n(n);i.a},e67a:function(t,e,a){},f59b:function(t,e,a){"use strict";var n=a("2326a"),i=a.n(n);i.a},f8e8:function(t,e,a){"use strict";var n=a("9e58"),i=a.n(n);i.a}});
//# sourceMappingURL=app.9f000c16.js.map